@model ProfileViewModel

@using CSGSIWebClient.Utilities;

@{
    float kdr = Model.GetKDR();
    CSMatch lastMatch = Model.GetLastMatch();
    CSMatch hightScoreMatch = Model.HighestScoreMatch();
    CSMatch bestKDRMatch = Model.BestKDRMatch();
}

<div id="profile-div">
    <div>
        <h1>@Model.SteamPlayer.personaname</h1>

        <img src="@Model.SteamPlayer.avatarfull" />
    </div>

    <div>
        <dl class="dl-horizontal">
            <dt>Average KDR: </dt>
            <dd>@kdr</dd>

            <dt>Highest Match Score: </dt>
            <dd><a asp-controller="Matches" asp-action="Match" asp-route-id="@hightScoreMatch.id">@DateUtilities.ConvertFromUnixTimestamp(hightScoreMatch.datetime_start)</a></dd>

            <dt>Best Match KDR: </dt>
            <dd><a asp-controller="Matches" asp-action="Match" asp-route-id="@bestKDRMatch.id">@DateUtilities.ConvertFromUnixTimestamp(bestKDRMatch.datetime_start)</a></dd>

            <dt>Last Match: </dt>
            <dd><a asp-controller="Matches" asp-action="Match" asp-route-id="@lastMatch.id">@DateUtilities.ConvertFromUnixTimestamp(lastMatch.datetime_start)</a></dd>
        </dl>
    </div>
</div>


